<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>read AMPS data — readamps_d1wind • raadtools</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.7.1/clipboard.min.js" integrity="sha384-cV+rhyOuRHc9Ub/91rihWcGmMmCXDeksTtCihMupQHSsi8GIIRDG0ThDc3HGQFJ3" crossorigin="anonymous"></script>

<!-- sticky kit -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>



<meta property="og:title" content="read AMPS data — readamps_d1wind" />

<meta property="og:description" content="Read from 	The Antarctic Mesoscale Prediction System (AMPS) files." />
<meta name="twitter:card" content="summary" />



<!-- mathjax -->
<script src='https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">raadtools</a>
        <span class="label label-default" data-toggle="tooltip" data-placement="bottom" title="Released package">0.4.0.9002</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/raadtools.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/chlorophyll.html">Remotely Sensed Ocean Colour (Chlorophyll) in raadtools</a>
    </li>
    <li>
      <a href="../articles/extract-extent.html">Environmental data from an extent with raadtools</a>
    </li>
    <li>
      <a href="../articles/installraadtools.html">raadtools installation</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/AustralianAntarcticDivision/raadtools">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>read AMPS data</h1>
    <small class="dont-index">Source: <a href='https://github.com/AustralianAntarcticDivision/raadtools/blob/master/R/amps.R'><code>R/amps.R</code></a></small>
    <div class="hidden name"><code>readamps_d1wind.Rd</code></div>
    </div>

    <div class="ref-description">
    
    <p>Read from 	The Antarctic Mesoscale Prediction System (AMPS) files.</p>
    
    </div>

    <pre class="usage"><span class='fu'>readamps_d1wind</span>(<span class='no'>date</span>, <span class='kw'>time.resolution</span> <span class='kw'>=</span> <span class='st'>"4hourly"</span>, <span class='kw'>xylim</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>magonly</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='kw'>dironly</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='kw'>uonly</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='kw'>vonly</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
  <span class='kw'>latest</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='kw'>returnfiles</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='kw'>level</span> <span class='kw'>=</span> <span class='fl'>1</span>, <span class='no'>...</span>,
  <span class='kw'>inputfiles</span> <span class='kw'>=</span> <span class='kw'>NULL</span>)

<span class='fu'>readamps</span>(<span class='no'>date</span>, <span class='kw'>time.resolution</span> <span class='kw'>=</span> <span class='st'>"4hourly"</span>, <span class='kw'>xylim</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>band</span> <span class='kw'>=</span> <span class='fl'>1</span>,
  <span class='kw'>latest</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='kw'>returnfiles</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='no'>...</span>, <span class='kw'>inputfiles</span> <span class='kw'>=</span> <span class='kw'>NULL</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>date</th>
      <td><p>date or dates of data to read, see Details</p></td>
    </tr>
    <tr>
      <th>time.resolution</th>
      <td><p>time resolution to read</p></td>
    </tr>
    <tr>
      <th>xylim</th>
      <td><p>crop</p></td>
    </tr>
    <tr>
      <th>magonly</th>
      <td><p>return just the magnitude from the U and V
components</p></td>
    </tr>
    <tr>
      <th>dironly</th>
      <td><p>return just the direction from the U and V, in degrees N=0, E=90, S=180, W=270</p></td>
    </tr>
    <tr>
      <th>uonly</th>
      <td><p>return just the horizontal component of velocity, U</p></td>
    </tr>
    <tr>
      <th>vonly</th>
      <td><p>return just the vertical component of velocity, V</p></td>
    </tr>
    <tr>
      <th>latest</th>
      <td><p>if TRUE return the latest time available, ignoring the 'date' argument</p></td>
    </tr>
    <tr>
      <th>returnfiles</th>
      <td><p>ignore options and just return the file names and dates</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>arguments passed to <code><a href='http://www.rdocumentation.org/packages/raster/topics/brick'>brick</a></code>, i.e. <code>filename</code></p></td>
    </tr>
    <tr>
      <th>inputfiles</th>
      <td><p>input the files data base to speed up initialization</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>Raster</p>
    
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p><code>readamps_d1wind</code> reads the "d1" <code>level</code> wind (defaults to 1).</p>
<p><code>readamps</code> reads the  <code>band</code> (defaults to 1).</p>
<p>See <code><a href='amps_metadata.html'>amps_metadata</a></code> for a description of the bands.</p>
<p>Data  http://www2.mmm.ucar.edu/rt/amps/wrf_grib/, and contain gridded forecast data from the AMPS-WRF model. 
The ‘d1’ (domain 1) files are on a 30km grid, while the ‘d2’ (domain 2) files are on a 10km grid. 
The grid domains are shown at  http://polarmet.osu.edu/AMPS/ - d2 extends out to southern Australia and the tip of South America, and 
d1 covers just Antarctica (including Davis) and parts of the Southern Ocean.
There are two forecast cycles, starting at 00UT and 12UT daily. Forecasts are for +00, +03, +06, +09, +12 and +15 hours. 
These steps can be used to see how the wind field is forecast as changing, and to obtain two different data sets each 
3 hour timestep (e.g. the +15h forecast for the 00UT run is at the same time as the +03h forecast from the 12UT run). 
The 00UT and 12UT runs contain fewer parameters that the +03h and later forecasts</p>
<pre>
An example file date is "2015-10-25 UTC"
gdalinfo 2015102512_WRF_d1_f000.grb
    uonly is
    Band 5 Block=329x1 Type=Float64, ColorInterp=Undefined
Description = 10[m] HTGL (Specified height level above ground)
Metadata:
  GRIB_COMMENT=u-component of wind [m/s]
  GRIB_ELEMENT=UGRD
  GRIB_FORECAST_SECONDS=0 sec
  GRIB_REF_TIME=  1445774400 sec UTC
  GRIB_SHORT_NAME=10-HTGL
  GRIB_UNIT=[m/s]
  GRIB_VALID_TIME=  1445774400 sec UTC
    vonly is
Band 27 Block=329x1 Type=Float64, ColorInterp=Undefined
Description = 10[m] HTGL (Specified height level above ground)
Metadata:
  GRIB_COMMENT=v-component of wind [m/s]
GRIB_ELEMENT=VGRD
GRIB_FORECAST_SECONDS=0 sec
GRIB_REF_TIME=  1445774400 sec UTC
GRIB_SHORT_NAME=10-HTGL
GRIB_UNIT=[m/s]
GRIB_VALID_TIME=  1445774400 sec UTC
</pre>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='no'>af</span> <span class='kw'>&lt;-</span> <span class='fu'>amps_d1files</span>()
<span class='no'>w</span> <span class='kw'>&lt;-</span> <span class='fu'>readamps_d1wind</span>(<span class='kw'>latest</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>inputfiles</span> <span class='kw'>=</span> <span class='no'>af</span>)
<span class='no'>vlen</span> <span class='kw'>&lt;-</span> <span class='kw'>function</span>(<span class='no'>a</span>, <span class='no'>b</span>) <span class='fu'>sqrt</span>(<span class='no'>a</span> * <span class='no'>a</span> + <span class='no'>b</span> * <span class='no'>b</span>)
<span class='fu'>plot</span>(<span class='fu'>vlen</span>(<span class='no'>w</span><span class='kw'>[[</span><span class='fl'>1</span>]], <span class='no'>w</span><span class='kw'>[[</span><span class='fl'>2</span>]]))</div><div class='input'>
<span class='co'>## arrow jigger</span>
<span class='no'>arr</span> <span class='kw'>&lt;-</span> <span class='kw'>function</span>(<span class='no'>x</span>, <span class='no'>sub</span> <span class='kw'>=</span> <span class='fu'>seq</span>(<span class='fu'>ncell</span>(<span class='no'>x</span><span class='kw'>[[</span><span class='fl'>1</span>]])), <span class='no'>scale</span> <span class='kw'>=</span> <span class='fl'>1</span>) {
 <span class='no'>cr</span> <span class='kw'>&lt;-</span> <span class='fu'>coordinates</span>(<span class='no'>x</span><span class='kw'>[[</span><span class='fl'>1</span>]]); <span class='no'>cr1</span> <span class='kw'>&lt;-</span> <span class='no'>cr</span>;
 <span class='no'>cr1</span>[,<span class='fl'>1</span>] <span class='kw'>&lt;-</span> <span class='no'>cr</span>[,<span class='fl'>1</span>] + <span class='fu'>values</span>(<span class='no'>x</span><span class='kw'>[[</span><span class='fl'>1</span>]])*<span class='no'>scale</span>;
 <span class='no'>cr1</span>[,<span class='fl'>2</span>] <span class='kw'>&lt;-</span> <span class='no'>cr1</span>[,<span class='fl'>2</span>] + <span class='fu'>values</span>(<span class='no'>x</span><span class='kw'>[[</span><span class='fl'>2</span>]]*<span class='no'>scale</span>);
 <span class='fu'>segments</span>(<span class='no'>cr</span>[<span class='no'>sub</span>,<span class='fl'>1</span>], <span class='no'>cr</span>[<span class='no'>sub</span>,<span class='fl'>2</span>], <span class='no'>cr1</span>[<span class='no'>sub</span>,<span class='fl'>1</span>], <span class='no'>cr1</span>[<span class='no'>sub</span>,<span class='fl'>2</span>])
}
<span class='fu'>arr</span>(<span class='no'>w</span>, <span class='fu'>sample</span>(<span class='fu'>ncell</span>(<span class='no'>w</span>), <span class='fl'>10000</span>), <span class='kw'>scale</span> <span class='kw'>=</span> <span class='fl'>30000</span>)</div><div class='img'><img src='readamps_d1wind-1.png' alt='' width='700' height='433' /></div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>

      <li><a href="#details">Details</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Michael D. Sumner.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://pkgdown.r-lib.org/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  

  </body>
</html>

